language: r
sudo: required
dist: trusty
bioc_required: true
cache: packages
warnings_are_errors: true
addons:
  apt:
    packages:
      - libgsl-dev
      - libsdl1.2-dev
      - libreadline-dev
install:
 - R -e 'devtools::install(dependencies = T, upgrade_dependencies = T)'
 - R -e 'dyneval::check_dependencies()'
script:
 - R CMD build .
 - travis_wait 100 R CMD check dyneval*.tar.gz --as-cran
 - grep "WARNING" "dyneval.Rcheck/00check.log" ; [ $? -ne 0 ]
