language: r
sudo: required
dist: trusty
bioc_required: true
cache: packages
warnings_are_errors: true
addons:
  apt:
    packages:
      - libgsl-dev
      - libsdl1.2-dev
      - libreadline-dev
r_packages:
 - roxygen2
install:
 - R -e 'devtools::install(dependencies = T, upgrade_dependencies = T)'
 - R -e 'dyneval::check_dependencies()'
script:
 - R CMD build .
 - R CMD check "dyneval*.tar.gz" --as-cran --no-tests
 - R -e 'Sys.setenv("R_TESTS" = ""); devtools::test()'
