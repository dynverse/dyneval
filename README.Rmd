---
output: github_document
editor_options:
  chunk_output_type: console
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, echo = FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE, error = FALSE, echo = FALSE)
```

```{r}
library(tidyverse)
library(dyneval)
```

[![Build Status](https://api.travis-ci.org/dynverse/dyneval.svg)](https://travis-ci.org/dynverse/dyneval)
[![codecov](https://codecov.io/gh/dynverse/dyneval/branch/master/graph/badge.svg)](https://codecov.io/gh/dynverse/dyneval)
<img src="man/figures/logo.png" align="right" />

# Metrics to compare two trajectories

This R package implements several metrics for comparing two single-cell trajectories.

These include:

- **Specific metrics**, metrics which look at the similarity of a specific part of the trajectory, such as the topology or the cellular ordering

```{r}
metrics %>% 
  filter(type == "specific") %>%
  select(Name = html, `Long name`= long_name, Category = category) %>% 
  knitr::kable()
```

- **Application metrics**, which assess the accuracy of some downstream analyses of trajectories

```{r}
metrics %>% 
  filter(type == "application") %>%
  select(Name = html, `Long name`= long_name) %>% 
  knitr::kable()
```

- **Overall metrics**, which combine several specific and/or application metrics to analyse the overall similarity of two trajectories

```{r}
metrics %>% 
  filter(type == "overall") %>%
  select(Name = html, `Long name`= long_name) %>% 
  knitr::kable()
```


## Latest changes
Check out `news(package = "dyneval")` or [NEWS.md](inst/NEWS.md) for a full list of changes.

<!-- This section gets automatically generated from inst/NEWS.md, and also generates inst/NEWS -->

```{r news, results='asis', echo=FALSE}
library(tidyverse)

news_md <- readr::read_lines("inst/NEWS.md")

# creating NEWS for package
news_normal <- news_md %>% 
  str_replace_all("^# dyneval", "dyneval") %>% 
  str_replace_all("\\[[^\\]]*\\]\\(([^\\)]*)\\)", "\\1")
readr::write_lines(news_normal, "inst/NEWS")

# creating text for readme
ix <- which(str_detect(news_md, "^# dyneval"))

cat(str_replace(news_md[[ix[[1]]]], "^# ", "### Latest changes in "))

cat(news_md[seq(ix[[1]]+1, ix[[2]]-1)], sep = "\n")

cat(str_replace(news_md[[ix[[2]]]], "^# ", "### Latest changes in "))

len2 <- if (length(ix) >= 3) ix[[3]] - 1 else length(news_md)
cat(news_md[seq(ix[[2]]+1, len2)], sep = "\n")
```
